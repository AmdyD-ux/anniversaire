<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Anniversaire Kiki ‚Äî By Mr D</title>
<meta name="theme-color" content="#ff5ea5">
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
<style>
@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;800&display=swap');
:root{ --rose-1:#ff6aa6; --rose-2:#ff9ec4; --rose-3:#ff3b8d; --vio-1:#b14cff; --txt:#fff; --muted:rgba(255,255,255,.72); }
*{box-sizing:border-box}
html,body{height:100%;scroll-behavior:smooth; margin:0; font-family:'Poppins', sans-serif; color:var(--txt); overflow-x:hidden}
body{
  background: radial-gradient(1200px 800px at 10% 0%, #ff99cc22, transparent), radial-gradient(1000px 700px at 90% 10%, #b14cff22, transparent), linear-gradient(180deg, #180915, #120715 60%, #100414);
}
.container{width:min(1200px,92%);margin:0 auto}

/* Header */
header{ position:sticky; top:0; z-index:1000; background:rgba(18,5,20,0.8); backdrop-filter:blur(14px); border-bottom:1px solid rgba(255,255,255,0.1); }
.nav{display:flex; align-items:center; justify-content:space-between; padding:12px 0}
.brand{display:flex; align-items:center; gap:10px}
.brand-logo{width:36px; height:36px; border-radius:12px; background:linear-gradient(135deg,var(--rose-1),var(--vio-1)); transform:rotate(-12deg);}
.brand h1{margin:0; font-size:18px; background:linear-gradient(90deg,#fff,#ffd3e7); -webkit-background-clip:text; color:transparent}

/* Hero Section */
.hero{padding:60px 0 30px; display:grid; grid-template-columns:1.2fr 1fr; gap:30px; align-items:center}
@media (max-width:900px){.hero{grid-template-columns:1fr; text-align:center}}
.kiki-title{font-size:clamp(30px,6vw,55px); font-weight:800; line-height:1.1; margin:0; background:linear-gradient(90deg,#fff,#ffd1e6); -webkit-background-clip:text; color:transparent;}
.btn{padding:14px 24px; border-radius:12px; border:none; background:linear-gradient(135deg,var(--rose-1),var(--rose-3)); color:white; font-weight:600; cursor:pointer; transition:0.3s; margin-top:20px; box-shadow:0 10px 30px rgba(255,64,128,0.3)}
.btn:hover{transform:translateY(-3px); box-shadow:0 15px 40px rgba(255,64,128,0.5)}

/* Countdown */
.card{margin-top:30px; padding:20px; border-radius:16px; background:rgba(255,255,255,0.05); border:1px solid rgba(255,255,255,0.1)}
.countdown{display:flex; justify-content:center; gap:15px; margin-top:10px}
.num{font-size:32px; font-weight:800; color:var(--rose-1)}
.label{font-size:12px; color:var(--muted)}

/* Heart */
.hero-right{position:relative; display:flex; justify-content:center}
.heart{ width:120px; height:120px; background:var(--rose-1); position:relative; transform:rotate(-45deg); animation:beat 1.2s infinite; box-shadow:0 0 50px rgba(255,64,128,0.4)}
.heart:before, .heart:after{content:''; width:120px; height:120px; background:var(--rose-1); border-radius:50%; position:absolute}
.heart:before{top:-60px; left:0} .heart:after{top:0; left:60px}
@keyframes beat{0%,100%{transform:rotate(-45deg) scale(1)} 50%{transform:rotate(-45deg) scale(1.1)}}

/* Gallery Grid */
.gallery-grid{display:grid; grid-template-columns:repeat(auto-fill, minmax(160px, 1fr)); gap:15px; margin-top:40px}
.media-card{aspect-ratio:1; border-radius:12px; overflow:hidden; border:1px solid rgba(255,255,255,0.1); cursor:pointer; transition:0.3s}
.media-card:hover{transform:scale(1.05)}
.media-card img, .media-card video{width:100%; height:100%; object-fit:cover}

/* Diaporama Modal */
.modal{position:fixed; inset:0; z-index:2000; display:none; background:rgba(0,0,0,0.95); backdrop-filter:blur(15px); align-items:center; justify-content:center}
.modal.open{display:flex}
.modal-content{width:100%; height:100%; display:flex; flex-direction:column; align-items:center; justify-content:center; position:relative}
.slide-item{max-width:90%; max-height:80%; object-fit:contain; border-radius:10px; animation:zoomIn 0.5s ease}
@keyframes zoomIn{from{opacity:0; transform:scale(0.8)} to{opacity:1; transform:scale(1)}}
.close-modal{position:absolute; top:20px; right:20px; font-size:30px; color:white; cursor:pointer; background:none; border:none}
.nav-btn{position:absolute; top:50%; width:50px; height:50px; background:rgba(255,255,255,0.1); border-radius:50%; border:none; color:white; font-size:24px; cursor:pointer}
#prevBtn{left:20px} #nextBtn{right:20px}

/* Music Control */
.music-btn{position:fixed; bottom:20px; right:20px; z-index:3000; width:50px; height:50px; border-radius:50%; background:var(--rose-1); border:none; color:white; font-size:20px; cursor:pointer; box-shadow:0 5px 15px rgba(0,0,0,0.3)}
</style>
</head>
<body>

<audio id="bgMusic" loop><source src="musique.mp3" type="audio/mpeg"></audio>
<button class="music-btn" id="musicToggle">üéµ</button>

<header>
  <div class="container nav">
    <div class="brand"><div class="brand-logo"></div><h1>Kiki 21 ‚Ä¢ By Mr D</h1></div>
  </div>
</header>

<main class="container">
  <section class="hero">
    <div>
      <h2 class="kiki-title">Joyeux Anniversaire <br> Fatou Kin√© Iagne</h2>
      <button class="btn" id="startShow">Lancer le Show ‚ú®</button>
      <div class="card">
        <div id="targetLabel">Chargement...</div>
        <div class="countdown">
          <div class="unit"><div class="num" id="d">00</div><div class="label">Jours</div></div>
          <div class="unit"><div class="num" id="h">00</div><div class="label">Heures</div></div>
          <div class="unit"><div class="num" id="m">00</div><div class="label">Minutes</div></div>
          <div class="unit"><div class="num" id="s">00</div><div class="label">Secondes</div></div>
        </div>
      </div>
    </div>
    <div class="hero-right"><div class="heart"></div></div>
  </section>

  <section id="galerie">
    <h2 style="color:var(--rose-1)">Galerie Kiki</h2>
    <div class="gallery-grid" id="galleryGrid"></div>
  </section>
</main>

<div class="modal" id="modal">
  <button class="close-modal" id="closeModal">‚úï</button>
  <div class="modal-content" id="modalContent"></div>
  <button class="nav-btn" id="prevBtn">‚Üê</button>
  <button class="nav-btn" id="nextBtn">‚Üí</button>
</div>

<script>
// LISTE MISE √Ä JOUR SELON TON R√âPERTOIRE
const MY_FILES = [
  'Photo2.jpeg', 'Photo3.jpeg', 'Photo4.jpeg', 'Photo5.jpeg', 'Photo6.jpeg', 'Photo7.jpeg',
  'Video1.mp4', 'Video2.mp4', 'Video3.mp4', 'Video4.mp4', 'Video5.mp4', 'Video6.mp4', 'Video7.mp4', 'Video8.mp4'
];

const mediaList = MY_FILES.map(f => ({ src: 'media/'+f, type: f.endsWith('mp4')?'video':'image' }));

/* GALLERY RENDER */
const grid = document.getElementById('galleryGrid');
mediaList.forEach((m, i) => {
  const div = document.createElement('div');
  div.className = 'media-card';
  div.innerHTML = m.type==='image'?`<img src="${m.src}">` : `<video src="${m.src}" muted></video>`;
  div.onclick = () => openModal(i);
  grid.appendChild(div);
});

/* MODAL LOGIC */
let currentIndex = 0;
const modal = document.getElementById('modal');
const content = document.getElementById('modalContent');

function openModal(i) {
  currentIndex = i;
  modal.classList.add('open');
  renderSlide();
  startMusic();
}

function renderSlide() {
  const item = mediaList[currentIndex];
  content.innerHTML = item.type==='image'? `<img src="${item.src}" class="slide-item">` : `<video src="${item.src}" class="slide-item" controls autoplay></video>`;
  confetti({ particleCount: 50, spread: 70, origin: { y: 0.8 }, colors:['#ff6aa6','#ffffff'] });
}

document.getElementById('nextBtn').onclick = () => { currentIndex = (currentIndex+1)%mediaList.length; renderSlide(); };
document.getElementById('prevBtn').onclick = () => { currentIndex = (currentIndex-1+mediaList.length)%mediaList.length; renderSlide(); };
document.getElementById('closeModal').onclick = () => {
    modal.classList.remove('open');
    // Arr√™te la vid√©o si on ferme
    content.innerHTML = '';
};
document.getElementById('startShow').onclick = () => openModal(0);

/* MUSIC LOGIC */
const audio = document.getElementById('bgMusic');
let playing = false;
function startMusic() { if(!playing) { audio.play(); playing = true; document.getElementById('musicToggle').innerHTML = 'üéµ'; } }
document.getElementById('musicToggle').onclick = () => {
  if(audio.paused) { audio.play(); document.getElementById('musicToggle').innerHTML = 'üéµ'; }
  else { audio.pause(); document.getElementById('musicToggle').innerHTML = 'üîá'; }
};

/* COUNTDOWN & FIREWORKS */
let target = new Date(); target.setHours(24,0,0,0);
function updateCD() {
  let diff = target - new Date();
  if(diff <= 0) { 
    document.getElementById('targetLabel').textContent = "JOYEUX ANNIVERSAIRE KIKI ‚ù§Ô∏è";
    confetti({ particleCount: 150, spread: 100, origin: { y: 0.6 } });
    return;
  }
  document.getElementById('targetLabel').textContent = "Bient√¥t ton moment...";
  document.getElementById('d').textContent = String(Math.floor(diff/86400000)).padStart(2,'0');
  document.getElementById('h').textContent = String(Math.floor((diff/3600000)%24)).padStart(2,'0');
  document.getElementById('m').textContent = String(Math.floor((diff/60000)%60)).padStart(2,'0');
  document.getElementById('s').textContent = String(Math.floor((diff/1000)%60)).padStart(2,'0');
}
setInterval(updateCD, 1000); updateCD();
</script>
</body>
</html>
